"use strict";function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function _next(a){asyncGeneratorStep(f,d,e,_next,_throw,"next",a)}function _throw(a){asyncGeneratorStep(f,d,e,_next,_throw,"throw",a)}var f=a.apply(b,c);_next(void 0)})}}function ufrSetTopNews(){return _ufrSetTopNews.apply(this,arguments)}function _ufrSetTopNews(){return _ufrSetTopNews=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return regeneratorRuntime.wrap(function _callee$(u){for(;;)switch(u.prev=u.next){case 0:return b=a.imgWidth,c=a.imgHeight,d=a.showTitle,e=a.showExcerpt,f=a.cols,g=a.showShareBtn,h=a.topnewsID,i=a.useCard,j=a.useImage,k=a.jumpPosts,l=a.showCategory,m=window.ufrGlobals.siteUrl+"/wp-json/ufr/featured-news?quantity=".concat(f,"&jump=").concat(k),n=document.getElementById(h),o=n.querySelector(".top-news-number-1"),p=n.querySelector(".top-news-number-2"),q=n.querySelector(".top-news-number-3"),r=[o,p,q].map(function(a){return{theCol:a,boxContent:a.querySelector(".content"),boxCategory:a.querySelector(".category"),boxTitle:a.querySelector(".title"),boxExcerpt:a.querySelector(".excerpt"),boxImgContainer:a.querySelector(".img-container"),boxImageBoxCol:a.querySelector(".box-col"),boxShareBtn:a.querySelector(".social-links"),boxShareFb:a.querySelector(".social-links .facebook"),boxShareTt:a.querySelector(".social-links .twitter"),boxShareWpp:a.querySelector(".social-links .whatsapp"),boxShareToggle:a.querySelector(".toggle-social-links")}}),u.prev=7,s=function strip(a){return a?(a=a.replaceAll(/(<p>|<\/p>)/gm,""),a=a.replaceAll(/(&lt;p>|&lt;\/p>)/gm,""),a=a.replaceAll(/\n/gm," "),a):""},u.next=11,fetch(m).then(function(a){return a.json()});case 11:if(t=u.sent,Array.isArray(t)&&0!==t.length){u.next=15;break}return n.innerHTML="<div class=\"not-found\">Nenhum post encontrado.</div>",u.abrupt("return");case 15:r.forEach(function(a,f){var h=window.ufrGlobals.themeUrl+"/assets/img/logo/ufr-bg.png",k=t[f],m=k.permalink,n=k.thumbnail,o=k.post_title,p=k.post_excerpt,q=k.categories,r=0<q.length?q[0]:null;n&&"string"==typeof n&&0<n.length&&(h=n),a.theCol.onclick=function(){return window.open(m,"_self")},a.theCol.onauxclick=function(){return window.open(m,"_blank")},j&&(a.boxImgContainer.innerHTML="<img src=\"".concat(h,"\" alt=\"").concat(o,"\" />"),a.boxImgContainer.style.width=b,a.boxImgContainer.style.height=c,a.boxImgContainer.style.padding=i?"10px":"");var u=o;if(50<u.length){var v=0,w=-1;u=u.split(" "),console.log(u),u.forEach(function(a,b){v+=a.length,50<=v&&-1===w&&(w=b)}),u=u.slice(0,w).join(" ")+" (...) "}a.boxTitle.innerHTML=d&&o?u:"",a.boxExcerpt.innerHTML=e&&p?s(p):"",a.boxCategory.innerHTML=l&&r?r.name:"",a.boxCategory.style.margin=j?"":"10px 0",a.boxContent.style.display=d||e?"":"none",a.boxContent.style.display=i?"5px 10px":"",a.theCol.style.width=b,a.theCol.style.padding="0";var x={facebook:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURI(m)),twitter:"https://twitter.com/intent/tweet?url=".concat(encodeURI(m),"&text=").concat(encodeURI("Veja este interessante artigo: "+o)),whatsapp:"https://api.whatsapp.com/send?text=".concat(encodeURI(o+"\n"+m))};if(g){a.boxShareToggle.addEventListener("click",function(b){b.preventDefault(),b.stopPropagation(),a.boxShareBtn.classList.contains("open")?a.boxShareBtn.classList.remove("open"):a.boxShareBtn.classList.add("open")});var y=function shareFn(a,b){a.preventDefault(),a.stopPropagation(),window.open(b,"_blank")};a.boxShareFb.onclick=function(a){return y(a,x.facebook)},a.boxShareTt.onclick=function(a){return y(a,x.twitter)},a.boxShareWpp.onclick=function(a){return y(a,x.whatsapp)},a.boxShareFb.onauxclick=function(a){return y(a,x.facebook)},a.boxShareTt.onauxclick=function(a){return y(a,x.twitter)},a.boxShareWpp.onauxclick=function(a){return y(a,x.whatsapp)}}a.theCol.classList.remove("hidden")}),n.nextElementSibling&&n.nextElementSibling.classList.remove("loading"),u.next=22;break;case 19:u.prev=19,u.t0=u["catch"](7),console.error(u.t0);case 22:case"end":return u.stop();}},_callee,null,[[7,19]])})),_ufrSetTopNews.apply(this,arguments)}
