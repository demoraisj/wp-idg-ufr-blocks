"use strict";function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function _next(a){asyncGeneratorStep(f,d,e,_next,_throw,"next",a)}function _throw(a){asyncGeneratorStep(f,d,e,_next,_throw,"throw",a)}var f=a.apply(b,c);_next(void 0)})}}function ufrSetTopNews(){return _ufrSetTopNews.apply(this,arguments)}function _ufrSetTopNews(){return _ufrSetTopNews=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;return regeneratorRuntime.wrap(function _callee$(w){for(;;)switch(w.prev=w.next){case 0:return b=a.imgWidth,c=a.imgHeight,d=a.showTitle,e=a.showExcerpt,f=a.cols,g=a.showShareBtn,h=a.topnewsID,i=a.useCard,j=a.useImage,k=a.jumpPosts,l=a.showCategory,m=a.roundImageBorder,n=a.shareBtnColor,o=window.ufrGlobals.siteUrl+"/wp-json/ufr/featured-news?quantity=".concat(f,"&jump=").concat(k),p=document.getElementById(h),q=p.querySelector(".top-news-number-1"),r=p.querySelector(".top-news-number-2"),s=p.querySelector(".top-news-number-3"),t=[q,r,s].map(function(a){return{theCol:a,boxContent:a.querySelector(".content"),boxCategory:a.querySelector(".category"),boxTitle:a.querySelector(".title"),boxExcerpt:a.querySelector(".excerpt"),boxImgContainer:a.querySelector(".img-container"),boxImageBoxCol:a.querySelector(".box-col"),boxShareBtn:a.querySelector(".social-links"),boxShareFb:a.querySelector(".social-links .facebook"),boxShareTt:a.querySelector(".social-links .twitter"),boxShareWpp:a.querySelector(".social-links .whatsapp"),boxShareToggle:a.querySelector(".toggle-social-links")}}),w.prev=7,u=function strip(a){return a?(a=a.replaceAll(/(<p>|<\/p>)/gm,""),a=a.replaceAll(/(&lt;p>|&lt;\/p>)/gm,""),a=a.replaceAll(/\n/gm," "),a):""},w.next=11,fetch(o).then(function(a){return a.json()});case 11:if(v=w.sent,Array.isArray(v)&&0!==v.length){w.next=15;break}return p.innerHTML="<div class=\"not-found\">Nenhum post encontrado.</div>",w.abrupt("return");case 15:t.forEach(function(a,f){var h=window.ufrGlobals.themeUrl+"/assets/img/logo/ufr-bg.png",k=v[f],n=k.permalink,o=k.thumbnail,p=k.post_title,q=k.post_excerpt,r=k.categories,s=0<r.length?r[0]:null;if(o&&"string"==typeof o&&0<o.length&&(h=o),a.theCol.onclick=function(){return window.open(n,"_self")},a.theCol.onauxclick=function(){return window.open(n,"_blank")},j){var z="".concat(m?"border-radius: 10px;":"");a.boxImgContainer.innerHTML="<img src=\"".concat(h,"\" alt=\"").concat(p,"\" style=\"").concat(z,"\" />"),a.boxImgContainer.style.width=b,a.boxImgContainer.style.height=c,a.boxImgContainer.style.padding=i?"10px":""}var t=p;if(110<t.length){var w=0,x=-1;t=t.split(" "),t.forEach(function(a,b){w+=a.length,110<=w&&-1===x&&(x=b)}),t=t.slice(0,x).join(" ")+" (...) "}a.boxTitle.innerHTML=d&&p?t:"",a.boxExcerpt.innerHTML=e&&q?u(q):"",a.boxCategory.innerHTML=l&&s?s.name:"",a.boxCategory.style.margin=j?"":"10px 0",a.boxContent.style.display=d||e?"":"none",a.boxContent.style.display=i?"5px 10px":"",a.theCol.style.width=b,a.theCol.style.padding="0";var y={facebook:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURI(n)),twitter:"https://twitter.com/intent/tweet?url=".concat(encodeURI(n),"&text=").concat(encodeURI("Veja este interessante artigo: "+p)),whatsapp:"https://api.whatsapp.com/send?text=".concat(encodeURI(p+"\n"+n))};if(g){a.boxShareToggle.addEventListener("click",function(b){b.preventDefault(),b.stopPropagation(),a.boxShareBtn.classList.contains("open")?a.boxShareBtn.classList.remove("open"):a.boxShareBtn.classList.add("open")});var A=function shareFn(a,b){a.preventDefault(),a.stopPropagation(),window.open(b,"_blank")};a.boxShareFb.onclick=function(a){return A(a,y.facebook)},a.boxShareTt.onclick=function(a){return A(a,y.twitter)},a.boxShareWpp.onclick=function(a){return A(a,y.whatsapp)},a.boxShareFb.onauxclick=function(a){return A(a,y.facebook)},a.boxShareTt.onauxclick=function(a){return A(a,y.twitter)},a.boxShareWpp.onauxclick=function(a){return A(a,y.whatsapp)}}a.theCol.classList.remove("hidden")}),p.nextElementSibling&&p.nextElementSibling.classList.remove("loading"),w.next=22;break;case 19:w.prev=19,w.t0=w["catch"](7),console.error(w.t0);case 22:case"end":return w.stop();}},_callee,null,[[7,19]])})),_ufrSetTopNews.apply(this,arguments)}
