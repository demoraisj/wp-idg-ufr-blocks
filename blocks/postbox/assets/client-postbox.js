"use strict";function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function _next(a){asyncGeneratorStep(f,d,e,_next,_throw,"next",a)}function _throw(a){asyncGeneratorStep(f,d,e,_next,_throw,"throw",a)}var f=a.apply(b,c);_next(void 0)})}}function ufrSetPostBox(){return _ufrSetPostBox.apply(this,arguments)}function _ufrSetPostBox(){return _ufrSetPostBox=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;return regeneratorRuntime.wrap(function _callee2$(I){for(;;)switch(I.prev=I.next){case 0:if(G=function _strip(a){return a?(a=a.replaceAll(/(<p>|<\/p>)/gm,""),a=a.replaceAll(/(&lt;p>|&lt;\/p>)/gm,""),a=a.replaceAll(/\n/gm," "),a):""},o=function _getPosts3(){return o=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(a,b,c,d,e){var f;return regeneratorRuntime.wrap(function _callee$(g){for(;;)switch(g.prev=g.next){case 0:f=window.ufrGlobals.siteUrl+"/wp-json/wp/v2/".concat(e,"?_embed=&_locale=user&per_page=1"),g.t0=a,g.next="all"===g.t0?4:"most-seen"===g.t0?14:"category"===g.t0?24:"tag"===g.t0?34:44;break;case 4:g.t1=d,g.next="first"===g.t1?7:"last"===g.t1?10:13;break;case 7:return g.next=9,fetch(f);case 9:return g.abrupt("return",g.sent.json());case 10:return g.next=12,fetch(f+"&order=asc");case 12:return g.abrupt("return",g.sent.json());case 13:return g.abrupt("break",44);case 14:g.t2=d,g.next="first"===g.t2?17:"last"===g.t2?20:23;break;case 17:return g.next=19,fetch(window.ufrGlobals.siteUrl+"/wp-json/ufr/most-seen-posts?quantity=1&type=".concat(e));case 19:return g.abrupt("return",g.sent.json());case 20:return g.next=22,fetch(window.ufrGlobals.siteUrl+"/wp-json/ufr/most-seen-posts?quantity=1&order=asc&type=".concat(e));case 22:return g.abrupt("return",g.sent.json());case 23:return g.abrupt("break",44);case 24:g.t3=d,g.next="first"===g.t3?27:"last"===g.t3?30:33;break;case 27:return g.next=29,fetch(f+"&categories=".concat(b,"&quantity=1"));case 29:return g.abrupt("return",g.sent.json());case 30:return g.next=32,fetch(f+"&categories=".concat(b,"&quantity=1&order=asc"));case 32:return g.abrupt("return",g.sent.json());case 33:return g.abrupt("break",44);case 34:g.t4=d,g.next="first"===g.t4?37:"last"===g.t4?40:43;break;case 37:return g.next=39,fetch(f+"&tags=".concat(c,"&quantity=1"));case 39:return g.abrupt("return",g.sent.json());case 40:return g.next=42,fetch(f+"&tags=".concat(c,"&quantity=1&order=asc"));case 42:return g.abrupt("return",g.sent.json());case 43:return g.abrupt("break",44);case 44:case"end":return g.stop();}},_callee)})),o.apply(this,arguments)},n=function _getPosts2(){return o.apply(this,arguments)},d=a.postType,e=a.postCategory,f=a.postTag,g=a.showExcerpt,h=a.boxID,i=a.postSelection,j=a.showTitle,k=a.showShareBtn,l=a.post,m=a.wpPostType,p=document.getElementById(h).querySelector(".box"),q=p.querySelector(".title"),r=p.querySelector(".excerpt"),s=p.querySelector(".content"),t=p.querySelector(".fa-facebook-f"),u=p.querySelector(".fa-twitter"),v=p.querySelector(".fa-whatsapp"),null===l||void 0===l){I.next=15;break}I.t0=l,I.next=18;break;case 15:return I.next=17,n(d,e,f,i,m);case 17:I.t0=I.sent[0];case 18:if(w=I.t0,w){I.next=22;break}return p.innerHTML="<div class=\"not-found\">Nenhum post encontrado.</div>",I.abrupt("return");case 22:x=w.link,y=w._embedded,z=w.thumbnail,A=w.excerpt,B=w.title,C=window.ufrGlobals.themeUrl+"/assets/img/logo/ufr-bg.png",D=y?null===(b=y["wp:featuredmedia"])||void 0===b||null===(c=b[0])||void 0===c?void 0:c.source_url:void 0,D&&(C=D),z&&(C=z),"most-seen"===d||l||(B=null===(E=B)||void 0===E?void 0:E.rendered,A=null===(F=A)||void 0===F?void 0:F.rendered),H={facebook:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURI(x)),twitter:"https://twitter.com/intent/tweet?url=".concat(encodeURI(x),"&text=").concat(encodeURI("Veja este interessante artigo: "+B)),whatsapp:"https://api.whatsapp.com/send?text=".concat(encodeURI(B+"\n"+x))},p.style.backgroundImage="url(".concat(C,")"),q.innerHTML=j&&B?B:"",r.innerHTML=g&&A?G(A):"",p.style.height="".concat(p.clientWidth,"px"),s.style.height="".concat(p.clientWidth-(k?57:0),"px"),k&&(t.onclick=function(){return window.open(H.facebook,"_blank")},u.onclick=function(){return window.open(H.twitter,"_blank")},v.onclick=function(){return window.open(H.whatsapp,"_blank")},t.onauxclick=function(){return window.open(H.facebook,"_blank")},u.onauxclick=function(){return window.open(H.twitter,"_blank")},v.onauxclick=function(){return window.open(H.whatsapp,"_blank")});case 36:case"end":return I.stop();}},_callee2)})),_ufrSetPostBox.apply(this,arguments)}
