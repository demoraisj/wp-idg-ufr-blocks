"use strict";function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function _next(a){asyncGeneratorStep(f,d,e,_next,_throw,"next",a)}function _throw(a){asyncGeneratorStep(f,d,e,_next,_throw,"throw",a)}var f=a.apply(b,c);_next(void 0)})}}function ufrSetPostBox(){return _ufrSetPostBox.apply(this,arguments)}function _ufrSetPostBox(){return _ufrSetPostBox=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;return regeneratorRuntime.wrap(function _callee2$(L){for(;;)switch(L.prev=L.next){case 0:if(I=function _strip(a){return a?(a=a.replaceAll(/(<p>|<\/p>)/gm,""),a=a.replaceAll(/(&lt;p>|&lt;\/p>)/gm,""),a=a.replaceAll(/\n/gm," "),a):""},o=function _getPosts3(){return o=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(a,b,c,d,e){var f;return regeneratorRuntime.wrap(function _callee$(g){for(;;)switch(g.prev=g.next){case 0:f=window.ufrGlobals.siteUrl+"/wp-json/wp/v2/".concat(e,"?_embed=&_locale=user&per_page=1"),g.t0=a,g.next="all"===g.t0?4:"most-seen"===g.t0?14:"category"===g.t0?24:"tag"===g.t0?34:44;break;case 4:g.t1=d,g.next="first"===g.t1?7:"last"===g.t1?10:13;break;case 7:return g.next=9,fetch(f);case 9:return g.abrupt("return",g.sent.json());case 10:return g.next=12,fetch(f+"&order=asc");case 12:return g.abrupt("return",g.sent.json());case 13:return g.abrupt("break",44);case 14:g.t2=d,g.next="first"===g.t2?17:"last"===g.t2?20:23;break;case 17:return g.next=19,fetch(window.ufrGlobals.siteUrl+"/wp-json/ufr/most-seen-posts?quantity=1&type=".concat(e));case 19:return g.abrupt("return",g.sent.json());case 20:return g.next=22,fetch(window.ufrGlobals.siteUrl+"/wp-json/ufr/most-seen-posts?quantity=1&order=asc&type=".concat(e));case 22:return g.abrupt("return",g.sent.json());case 23:return g.abrupt("break",44);case 24:g.t3=d,g.next="first"===g.t3?27:"last"===g.t3?30:33;break;case 27:return g.next=29,fetch(f+"&categories=".concat(b,"&quantity=1"));case 29:return g.abrupt("return",g.sent.json());case 30:return g.next=32,fetch(f+"&categories=".concat(b,"&quantity=1&order=asc"));case 32:return g.abrupt("return",g.sent.json());case 33:return g.abrupt("break",44);case 34:g.t4=d,g.next="first"===g.t4?37:"last"===g.t4?40:43;break;case 37:return g.next=39,fetch(f+"&tags=".concat(c,"&quantity=1"));case 39:return g.abrupt("return",g.sent.json());case 40:return g.next=42,fetch(f+"&tags=".concat(c,"&quantity=1&order=asc"));case 42:return g.abrupt("return",g.sent.json());case 43:return g.abrupt("break",44);case 44:case"end":return g.stop();}},_callee)})),o.apply(this,arguments)},n=function _getPosts2(){return o.apply(this,arguments)},d=a.postType,e=a.postCategory,f=a.postTag,g=a.showExcerpt,h=a.boxID,i=a.postSelection,j=a.showTitle,k=a.showShareBtn,l=a.post,m=a.wpPostType,p=document.getElementById(h).querySelector(".box"),q=p.querySelector(".title"),r=p.querySelector(".excerpt"),s=p.querySelector(".content"),t=p.querySelector(".social-links .facebook"),u=p.querySelector(".social-links .twitter"),v=p.querySelector(".social-links .whatsapp"),w=p.querySelector(".toggle-social-links"),x=p.querySelector(".social-links"),null===l||void 0===l){L.next=17;break}L.t0=l,L.next=20;break;case 17:return L.next=19,n(d,e,f,i,m);case 19:L.t0=L.sent[0];case 20:if(y=L.t0,y){L.next=24;break}return p.innerHTML="<div class=\"not-found\">Nenhum post encontrado.</div>",L.abrupt("return");case 24:z=y.link,A=y._embedded,B=y.thumbnail,C=y.excerpt,D=y.title,E=window.ufrGlobals.themeUrl+"/assets/img/logo/ufr-bg.png",F=A?null===(b=A["wp:featuredmedia"])||void 0===b||null===(c=b[0])||void 0===c?void 0:c.source_url:void 0,F&&(E=F),B&&(E=B),"most-seen"===d||l||(D=null===(G=D)||void 0===G?void 0:G.rendered,C=null===(H=C)||void 0===H?void 0:H.rendered),p.onclick=function(){return window.open(z,"_self")},p.onauxclick=function(){return window.open(z,"_blank")},J={facebook:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURI(z)),twitter:"https://twitter.com/intent/tweet?url=".concat(encodeURI(z),"&text=").concat(encodeURI("Veja este interessante artigo: "+D)),whatsapp:"https://api.whatsapp.com/send?text=".concat(encodeURI(D+"\n"+z))},p.style.backgroundImage="url(".concat(E,")"),q.innerHTML=j&&D?D:"",r.innerHTML=g&&C?I(C):"",p.style.height="".concat(p.clientWidth,"px"),s.style.height="".concat(p.clientWidth-(k?57:0),"px"),k&&(w.addEventListener("click",function(a){a.preventDefault(),a.stopPropagation(),x.classList.contains("open")?x.classList.remove("open"):x.classList.add("open")}),K=function shareFn(a,b){a.preventDefault(),a.stopPropagation(),window.open(b,"_blank")},t.onclick=function(a){return K(a,J.facebook)},u.onclick=function(a){return K(a,J.twitter)},v.onclick=function(a){return K(a,J.whatsapp)},t.onauxclick=function(a){return K(a,J.facebook)},u.onauxclick=function(a){return K(a,J.twitter)},v.onauxclick=function(a){return K(a,J.whatsapp)});case 40:case"end":return L.stop();}},_callee2)})),_ufrSetPostBox.apply(this,arguments)}
