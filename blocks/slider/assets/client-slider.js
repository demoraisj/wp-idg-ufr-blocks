"use strict";function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function _next(a){asyncGeneratorStep(f,d,e,_next,_throw,"next",a)}function _throw(a){asyncGeneratorStep(f,d,e,_next,_throw,"throw",a)}var f=a.apply(b,c);_next(void 0)})}}function ufrSetUpSliders(a){function getPosts(){return _getPosts.apply(this,arguments)}function _getPosts(){return _getPosts=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(a,b,c,d,e){var f;return regeneratorRuntime.wrap(function _callee$(g){for(;;)switch(g.prev=g.next){case 0:f=window.ufrGlobals.siteUrl+"/wp-json/wp/v2/".concat(e,"?_embed=&_locale=user&per_page=").concat(d),g.t0=a,g.next="most-recent"===g.t0?4:"most-seen"===g.t0?7:"category"===g.t0?10:"tag"===g.t0?13:16;break;case 4:return g.next=6,fetch(f);case 6:return g.abrupt("return",g.sent.json());case 7:return g.next=9,fetch(window.ufrGlobals.siteUrl+"/wp-json/ufr/most-seen-posts?quantity=".concat(d,"&type=").concat(e));case 9:return g.abrupt("return",g.sent.json());case 10:return g.next=12,fetch(f+"&categories=".concat(b));case 12:return g.abrupt("return",g.sent.json());case 13:return g.next=15,fetch(f+"&tags=".concat(c));case 15:return g.abrupt("return",g.sent.json());case 16:case"end":return g.stop();}},_callee)})),_getPosts.apply(this,arguments)}function holdRenderForPosts(){return _holdRenderForPosts.apply(this,arguments)}function _holdRenderForPosts(){return _holdRenderForPosts=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;return regeneratorRuntime.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(b=a.usePosts,c=a.postType,d=a.postCategory,e=a.sliderID,f=a.postsQuantity,g=a.duration,h=a.postTag,i=a.showExcerpt,j=a.showTitle,k=a.wpPostType,l=new Event("ufrLoadPosts"),b){r.next=4;break}return r.abrupt("return",window.dispatchEvent(l));case 4:return m=document.getElementById(e),n=document.getElementById("".concat(e,"-thumbnail")),o=m.querySelector(".splide__list"),p=n.querySelector(".splide__list"),r.next=10,getPosts(c,d,h,f,k);case 10:if(q=r.sent,q&&0!==q.length){r.next=14;break}return o.innerHTML="\n\t\t\t\t<li class=\"splide__slide\">\n\t\t\t\t\t<div class=\"not-found\">N\xE3o foram encontrados posts</div>\n\t\t\t\t</li>\n\t\t\t",r.abrupt("return",window.dispatchEvent(l));case 14:q.forEach(function(a){var b,d,e,f,h,k,l,m,n,q,r=a.link,s=a.title,t=a._embedded,u=a.thumbnail,v=a.excerpt,w=window.ufrGlobals.themeUrl+"/assets/img/logo/ufr-bg.png",x="",y=t?null===(b=t["wp:featuredmedia"])||void 0===b||null===(d=b[0])||void 0===d?void 0:d.alt_text:void 0,z=t?null===(e=t["wp:featuredmedia"])||void 0===e||null===(f=e[0])||void 0===f?void 0:f.source_url:void 0;z&&(w=z),y&&(x=y),u&&(w=u),"most-seen"===c||(s=null!==(h=null===(k=s)||void 0===k?void 0:k.rendered)&&void 0!==h?h:""),"most-seen"===c||(v=null!==(l=null===(m=v)||void 0===m?void 0:m.rendered)&&void 0!==l?l:"");var A=j&&0<(null===(n=s)||void 0===n?void 0:n.length)||i&&0<(null===(q=v)||void 0===q?void 0:q.length),B=A?"\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<span class=\"title\">".concat(j?s:"","</span>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<span class=\"excerpt\">").concat(i?v:"","</span>\n\t\t\t\t</div>\n\t\t\t"):"";o.innerHTML+="\n\t\t\t\t<li class=\"splide__slide\"\n\t\t\t\t\tdata-splide-interval=\"".concat(1e3*g,"\"\n\t\t\t\t\tstyle=\"cursor: pointer;\"\n\t\t\t\t\tonclick=\"location.href = '").concat(r,"'\"\n\t\t\t\t\tonauxclick=\"window.open('").concat(r,"', '_blank')\"\n\t\t\t\t>\n\t\t\t\t\t<img src=\"").concat(w,"\" alt=\"").concat(x,"\" />\n\n\t\t\t\t\t").concat(B,"\n\t\t\t\t</li>\n\t\t\t"),window.ufrGlobals.isMobile||(p.innerHTML+="\n\t\t\t\t\t<li class=\"splide__slide\">\n\t\t\t\t\t\t<img src=\"".concat(w,"\" alt=\"").concat(x,"\" />\n\t\t\t\t\t</li>\n\t\t\t\t"))}),window.dispatchEvent(l);case 16:case"end":return r.stop();}},_callee2)})),_holdRenderForPosts.apply(this,arguments)}var b=a.autoplay,c=a.height,d=a.width,e=a.sliderID;window.addEventListener("ufrLoadPosts",function(){var a=document.getElementById(e),f=document.querySelector("div[data-slide-container=\"".concat(e,"-container\"]")),g=new Splide(a,{type:"fade",rewind:!0,pagination:!1,arrows:!0,cover:!0,width:d,height:c,autoplay:b,breakpoints:{640:{width:640,height:(60.9*a.clientWidth/100).toString()+"px"}}});if(g.on("updated",function(a){f&&(f.style.width=a.width)}),g.on("mounted",function(){f&&(f.style.width=g.options.width),640>=(null===f||void 0===f?void 0:f.style.width)&&a.querySelectorAll(".description > .excerpt").forEach(function(a){return a.style.display="none"})}),!window.ufrGlobals.isMobile){var h=document.getElementById("".concat(e,"-thumbnail")),i=new Splide(h,{fixedWidth:100,fixedHeight:60,gap:10,rewind:!0,pagination:!1,cover:!0,arrows:!1,isNavigation:!0,breakpoints:{600:{fixedWidth:60,fixedHeight:44}}});g.sync(i),g.mount(),i.mount()}else g.mount()}),void holdRenderForPosts(a)}
